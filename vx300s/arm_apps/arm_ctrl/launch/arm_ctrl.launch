<?xml version="1.0"?>
<launch>
    <arg name="use_original_rviz" default="false" />
    <arg name="robot_model" default="" />
    <arg name="robot_name" default="$(arg robot_model)" />
    <arg name="base_link_frame" default="base_link" />
    <arg name="show_ar_tag" default="false" />
    <arg name="show_gripper_bar" default="true" />
    <arg name="show_gripper_fingers" default="true" />
    <arg name="use_world_frame" default="true" />
    <arg name="external_urdf_loc" default="" />
    <arg name="motor_configs" default="$(find interbotix_xsarm_control)/config/$(arg robot_model).yaml" />
    <arg name="mode_configs" default="$(find interbotix_xsarm_control)/config/modes.yaml" />
    <arg name="load_configs" default="true" />
    <arg name="use_sim" default="false" />


    <include file="$(find interbotix_xsarm_control)/launch/xsarm_control.launch">
        <arg name="robot_model" value="$(arg robot_model)" />
        <arg name="robot_name" value="$(arg robot_name)" />
        <arg name="base_link_frame" value="$(arg base_link_frame)" />
        <arg name="show_ar_tag" value="$(arg show_ar_tag)" />
        <arg name="show_gripper_bar" value="$(arg show_gripper_bar)" />
        <arg name="show_gripper_fingers" value="$(arg show_gripper_fingers)" />
        <arg name="use_world_frame" value="$(arg use_world_frame)" />
        <arg name="external_urdf_loc" value="$(arg external_urdf_loc)" />
        <arg name="use_rviz" value="$(arg use_original_rviz)" />
        <arg name="motor_configs" value="$(arg motor_configs)" />
        <arg name="mode_configs" value="$(arg mode_configs)" />
        <arg name="load_configs" value="$(arg load_configs)" />
        <arg name="use_sim" value="$(arg use_sim)" />
    </include>
    <node name="arm_ctrl" pkg="arm_ctrl" type="wellplate_picking.py" required="true" respawn="false" />
    <node unless="$(arg use_original_rviz)" name="rviz" pkg="rviz" type="rviz" required="true" respawn="false" args="-d $(find arm_ctrl_rviz)/rviz/arm_control.rviz" ns="/vx300s/robot_description" />
    <!-- <node name="rviz" pkg="rviz" type="rviz" required="true" respawn="false" args="-d $(find interbotix_xsarm_descriptions)/rviz/xsarm_description.rviz" /> -->
</launch>